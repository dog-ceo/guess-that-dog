{"version":3,"sources":["App.tsx","index.tsx"],"names":["App","breeds","fileInput","React","useRef","a","current","click","event","document","getElementById","innerHTML","tf","model","reader","FileReader","image","onload","src","target","result","inputTensor","fromPixels","resized","resizeBilinear","toFloat","offset","normalized","div","batched","expandDims","predict","outputTensor","data","prediction","guess","Array","from","map","p","i","probability","breed","sort","b","slice","console","log","confidence","Math","round","word","readAsDataURL","files","className","type","ref","onChange","id","onClick","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.e293abeb.chunk.js","sourcesContent":["import React from 'react';\nimport * as tf from '@tensorflow/tfjs';\nimport './App.css';\n\nfunction App() {\n  const breeds = ['affenpinscher', 'african', 'airedale', 'akita', 'appenzeller', 'australian-shepherd', 'basenji', 'beagle', 'bluetick', 'borzoi', 'bouvier', 'boxer', 'brabancon', 'briard', 'buhund-norwegian', 'bulldog-boston', 'bulldog-english', 'bulldog-french', 'bullterrier-staffordshire', 'cairn', 'cattledog-australian', 'chihuahua', 'chow', 'clumber', 'cockapoo', 'collie', 'collie-border', 'coonhound', 'corgi', 'corgi-cardigan', 'cotondetulear', 'dachshund', 'dalmatian', 'dane-great', 'deerhound-scottish', 'dhole', 'dingo', 'doberman', 'elkhound-norwegian', 'entlebucher', 'eskimo', 'finnish-lapphund', 'frise-bichon', 'germanshepherd', 'greyhound', 'greyhound-italian', 'groenendael', 'havanese', 'hound-afghan', 'hound-basset', 'hound-blood', 'hound-english', 'hound-ibizan', 'hound-plott', 'hound-walker', 'husky', 'keeshond', 'kelpie', 'komondor', 'kuvasz', 'labrador', 'leonberg', 'lhasa', 'malamute', 'malinois', 'maltese', 'mastiff-bull', 'mastiff-english', 'mastiff-tibetan', 'mexicanhairless', 'mix', 'mountain-bernese', 'mountain-swiss', 'newfoundland', 'otterhound', 'ovcharka-caucasian', 'papillon', 'pekinese', 'pembroke', 'pinscher-miniature', 'pitbull', 'pointer-german', 'pointer-germanlonghair', 'pomeranian', 'poodle-miniature', 'poodle-standard', 'poodle-toy', 'pug', 'puggle', 'pyrenees', 'redbone', 'retriever-chesapeake', 'retriever-curly', 'retriever-flatcoated', 'retriever-golden', 'ridgeback-rhodesian', 'rottweiler', 'saluki', 'samoyed', 'schipperke', 'schnauzer', 'schnauzer-giant', 'schnauzer-miniature', 'setter-english', 'setter-gordon', 'setter-irish', 'sheepdog-english', 'sheepdog-shetland', 'shiba', 'shihtzu', 'spaniel-blenheim', 'spaniel-brittany', 'spaniel-cocker', 'spaniel-irish', 'spaniel-japanese', 'spaniel-sussex', 'spaniel-welsh', 'springer-english', 'stbernard', 'terrier-american', 'terrier-australian', 'terrier-bedlington', 'terrier-border', 'terrier-dandie', 'terrier-fox', 'terrier-irish', 'terrier-kerryblue', 'terrier-lakeland', 'terrier-norfolk', 'terrier-norwich', 'terrier-patterdale', 'terrier-russell', 'terrier-scottish', 'terrier-sealyham', 'terrier-silky', 'terrier-tibetan', 'terrier-toy', 'terrier-westhighland', 'terrier-wheaten', 'terrier-yorkshire', 'vizsla', 'waterdog-spanish', 'weimaraner', 'whippet', 'wolfhound-irish']\n  const fileInput = React.useRef<HTMLInputElement>();\n\n  async function handleClick() {\n    fileInput.current.click()\n  }\n\n  async function handleChange(event: any) {\n    document.getElementById('result').innerHTML = \"Ummmm.....\";\n\n    const model = await tf.loadGraphModel('model/1/model.json');\n    const reader = new FileReader();\n    const image = document.getElementById(\"img\") as HTMLImageElement;\n\n    reader.onload = async (event) => {\n      image.src = event.target.result as string;\n\n      image.onload = async () => {\n        const inputTensor = tf.browser.fromPixels(image);\n        const resized = tf.image.resizeBilinear(inputTensor, [224, 224]).toFloat();\n        const offset = tf.scalar(255.0);\n        const normalized = resized.div(offset);\n        const batched = normalized.expandDims(0);\n\n        const outputTensor = await model.predict(batched) as tf.Tensor;\n\n        const prediction = await outputTensor.data();\n\n        let guess = Array.from(prediction).map(function(p, i) {\n          return {\n            probability: p,\n            breed: breeds[i - 1]\n          };\n        }).sort(function(a,b){\n          return b.probability-a.probability;\n        }).slice(0,1)[0];\n\n        console.log(guess.probability);\n\n        const confidence = Math.round(guess.probability * 100);\n\n        let word;\n\n        if (confidence >= 90) {\n          word = 'pretty'\n        } else if (confidence >= 80) {\n          word = 'quite'\n        } else if (confidence >= 60) {\n          word = 'kinda'\n        } else if (confidence >= 40) {\n          word = 'vaguely'\n        } else if (confidence >= 20) {\n          word = 'only slightly'\n        } else {\n          word = 'only a little bit'\n        }\n\n        document.getElementById('result').innerHTML = `So I'm ${word} sure that is a ${guess.breed}`\n      }\n    };\n\n    reader.readAsDataURL(event.target.files[0]);\n  }\n\n  return (\n    <div>\n      <div className=\"main\">\n        <div className=\"controls\">\n          <input type='file' ref={fileInput} onChange={handleChange} />\n          <button id='upload' onClick={handleClick} >Upload a dog image</button><br />\n          <div id=\"result\"></div>\n        </div>\n        <img id=\"img\"/>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}